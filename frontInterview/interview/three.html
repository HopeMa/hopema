<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>前端性能优化 | HopeMa学习历程</title>
    <meta name="description" content="技术学习进阶之路">
    
    
    <link rel="preload" href="/hopema/assets/css/0.styles.aff9224e.css" as="style"><link rel="preload" href="/hopema/assets/js/app.e2d1272e.js" as="script"><link rel="preload" href="/hopema/assets/js/2.ba40ddf8.js" as="script"><link rel="preload" href="/hopema/assets/js/16.3c672fff.js" as="script"><link rel="prefetch" href="/hopema/assets/js/10.201fb3bc.js"><link rel="prefetch" href="/hopema/assets/js/11.15daefdd.js"><link rel="prefetch" href="/hopema/assets/js/12.816b6775.js"><link rel="prefetch" href="/hopema/assets/js/13.8b5c7696.js"><link rel="prefetch" href="/hopema/assets/js/14.904ffc34.js"><link rel="prefetch" href="/hopema/assets/js/15.aef4f661.js"><link rel="prefetch" href="/hopema/assets/js/17.14e0ba0d.js"><link rel="prefetch" href="/hopema/assets/js/18.5ac82b3f.js"><link rel="prefetch" href="/hopema/assets/js/19.540b52fc.js"><link rel="prefetch" href="/hopema/assets/js/20.72ee5932.js"><link rel="prefetch" href="/hopema/assets/js/21.e7d4ff7c.js"><link rel="prefetch" href="/hopema/assets/js/22.8588407c.js"><link rel="prefetch" href="/hopema/assets/js/23.89752d53.js"><link rel="prefetch" href="/hopema/assets/js/24.f2cbff77.js"><link rel="prefetch" href="/hopema/assets/js/25.b323639f.js"><link rel="prefetch" href="/hopema/assets/js/26.0bfbb238.js"><link rel="prefetch" href="/hopema/assets/js/27.182b773a.js"><link rel="prefetch" href="/hopema/assets/js/28.5926a989.js"><link rel="prefetch" href="/hopema/assets/js/29.0e1591f4.js"><link rel="prefetch" href="/hopema/assets/js/3.044ad3b5.js"><link rel="prefetch" href="/hopema/assets/js/4.a41b7f7d.js"><link rel="prefetch" href="/hopema/assets/js/5.da5be34a.js"><link rel="prefetch" href="/hopema/assets/js/6.7762016d.js"><link rel="prefetch" href="/hopema/assets/js/7.281fe1c0.js"><link rel="prefetch" href="/hopema/assets/js/8.793db6d7.js"><link rel="prefetch" href="/hopema/assets/js/9.d1850baa.js">
    <link rel="stylesheet" href="/hopema/assets/css/0.styles.aff9224e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/hopema/" class="home-link router-link-active"><!----> <span class="site-name">HopeMa学习历程</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/hopema/" class="nav-link">主页</a></div><div class="nav-item"><a href="/hopema/vue3/" class="nav-link">vue3源码导读</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">技术·杂谈</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/hopema/technicalTalks/article/" class="nav-link">技术优质文章集</a></li><li class="dropdown-item"><!----> <a href="/hopema/technicalTalks/forntBack/" class="nav-link">前端可视化后台</a></li><li class="dropdown-item"><!----> <a href="/hopema/technicalTalks/wechatRobot/" class="nav-link">微信机器人搭建</a></li><li class="dropdown-item"><!----> <a href="/hopema/technicalTalks/video_audio/article.html" class="nav-link">音视频相关</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">前端·面试</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/hopema/frontInterview/interview/zero.html" class="nav-link">面试</a></li><li class="dropdown-item"><!----> <a href="/hopema/frontInterview/js_libraries/one.html" class="nav-link">js库学习</a></li><li class="dropdown-item"><!----> <a href="/hopema/frontInterview/electron/one.html" class="nav-link">electron学习</a></li><li class="dropdown-item"><!----> <a href="/hopema/frontInterview/worklearn/one.html" class="nav-link">工作积累学习</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">计算机·基础</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/hopema/basiccomputer/algorithm/one.html" class="nav-link">算法基础合集</a></li><li class="dropdown-item"><!----> <a href="/hopema/basiccomputer/webrtc/webrtc.html" class="nav-link">webRTC</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/HopeMa/hopema" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/hopema/" class="nav-link">主页</a></div><div class="nav-item"><a href="/hopema/vue3/" class="nav-link">vue3源码导读</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">技术·杂谈</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/hopema/technicalTalks/article/" class="nav-link">技术优质文章集</a></li><li class="dropdown-item"><!----> <a href="/hopema/technicalTalks/forntBack/" class="nav-link">前端可视化后台</a></li><li class="dropdown-item"><!----> <a href="/hopema/technicalTalks/wechatRobot/" class="nav-link">微信机器人搭建</a></li><li class="dropdown-item"><!----> <a href="/hopema/technicalTalks/video_audio/article.html" class="nav-link">音视频相关</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">前端·面试</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/hopema/frontInterview/interview/zero.html" class="nav-link">面试</a></li><li class="dropdown-item"><!----> <a href="/hopema/frontInterview/js_libraries/one.html" class="nav-link">js库学习</a></li><li class="dropdown-item"><!----> <a href="/hopema/frontInterview/electron/one.html" class="nav-link">electron学习</a></li><li class="dropdown-item"><!----> <a href="/hopema/frontInterview/worklearn/one.html" class="nav-link">工作积累学习</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">计算机·基础</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/hopema/basiccomputer/algorithm/one.html" class="nav-link">算法基础合集</a></li><li class="dropdown-item"><!----> <a href="/hopema/basiccomputer/webrtc/webrtc.html" class="nav-link">webRTC</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/HopeMa/hopema" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/hopema/frontInterview/interview/zero.html" class="sidebar-link">ES6知识汇总</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/hopema/frontInterview/interview/zero.html#es6总结文章" class="sidebar-link">ES6总结文章</a></li><li class="sidebar-sub-header"><a href="/hopema/frontInterview/interview/zero.html#强缓存和协商缓存" class="sidebar-link">强缓存和协商缓存</a></li><li class="sidebar-sub-header"><a href="/hopema/frontInterview/interview/zero.html#首屏加载优化方案" class="sidebar-link">首屏加载优化方案</a></li><li class="sidebar-sub-header"><a href="/hopema/frontInterview/interview/zero.html#http相关" class="sidebar-link">http相关</a></li></ul></li><li><a href="/hopema/frontInterview/interview/one.html" class="sidebar-link">前端面试手写题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/hopema/frontInterview/interview/one.html#防抖和节流" class="sidebar-link">防抖和节流</a></li><li class="sidebar-sub-header"><a href="/hopema/frontInterview/interview/one.html#深拷贝" class="sidebar-link">深拷贝</a></li><li class="sidebar-sub-header"><a href="/hopema/frontInterview/interview/one.html#数组去重、数组乱序" class="sidebar-link">数组去重、数组乱序</a></li><li class="sidebar-sub-header"><a href="/hopema/frontInterview/interview/one.html#手写call、apply、bind" class="sidebar-link">手写call、apply、bind</a></li><li class="sidebar-sub-header"><a href="/hopema/frontInterview/interview/one.html#继承（es5-es6）" class="sidebar-link">继承（ES5/ES6）</a></li><li class="sidebar-sub-header"><a href="/hopema/frontInterview/interview/one.html#sleep函数" class="sidebar-link">sleep函数</a></li><li class="sidebar-sub-header"><a href="/hopema/frontInterview/interview/one.html#实现promise" class="sidebar-link">实现promise</a></li><li class="sidebar-sub-header"><a href="/hopema/frontInterview/interview/one.html#实现promise-all" class="sidebar-link">实现promise.all</a></li><li class="sidebar-sub-header"><a href="/hopema/frontInterview/interview/one.html#实现promise-retry" class="sidebar-link">实现promise.retry</a></li><li class="sidebar-sub-header"><a href="/hopema/frontInterview/interview/one.html#将一个同步callback包装成promise形式" class="sidebar-link">将一个同步callback包装成promise形式</a></li><li class="sidebar-sub-header"><a href="/hopema/frontInterview/interview/one.html#写一个函数，可以控制最大并发数" class="sidebar-link">写一个函数，可以控制最大并发数</a></li><li class="sidebar-sub-header"><a href="/hopema/frontInterview/interview/one.html#jsonp的实现" class="sidebar-link">jsonp的实现</a></li><li class="sidebar-sub-header"><a href="/hopema/frontInterview/interview/one.html#eventemitter-emit-on-off-once" class="sidebar-link">eventEmitter(emit,on,off,once)</a></li><li class="sidebar-sub-header"><a href="/hopema/frontInterview/interview/one.html#实现instanceof" class="sidebar-link">实现instanceof</a></li><li class="sidebar-sub-header"><a href="/hopema/frontInterview/interview/one.html#实现new" class="sidebar-link">实现new</a></li><li class="sidebar-sub-header"><a href="/hopema/frontInterview/interview/one.html#实现数组flat、filter等方法" class="sidebar-link">实现数组flat、filter等方法</a></li><li class="sidebar-sub-header"><a href="/hopema/frontInterview/interview/one.html#lazyman" class="sidebar-link">lazyMan</a></li></ul></li><li><a href="/hopema/frontInterview/interview/two.html" class="sidebar-link">vue问题总结</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/hopema/frontInterview/interview/two.html#vue使用总结" class="sidebar-link">vue使用总结</a></li><li class="sidebar-sub-header"><a href="/hopema/frontInterview/interview/two.html#重绘重排" class="sidebar-link">重绘重排</a></li><li class="sidebar-sub-header"><a href="/hopema/frontInterview/interview/two.html#vue中的provide-inject" class="sidebar-link">vue中的provide/inject</a></li></ul></li><li><a href="/hopema/frontInterview/interview/three.html" class="active sidebar-link">前端性能优化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/hopema/frontInterview/interview/three.html#前端性能优化" class="sidebar-link">前端性能优化</a></li></ul></li><li><a href="/hopema/frontInterview/interview/four.html" class="sidebar-link">知识总结</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/hopema/frontInterview/interview/four.html#chrome进程" class="sidebar-link">chrome进程</a></li><li class="sidebar-sub-header"><a href="/hopema/frontInterview/interview/four.html#js协程概念" class="sidebar-link">js协程概念</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="前端性能优化"><a href="#前端性能优化" aria-hidden="true" class="header-anchor">#</a> 前端性能优化</h2> <p><a href="https://juejin.im/post/5a966bd16fb9a0635172a50a" target="_blank" rel="noopener noreferrer">2018 前端性能优化清单<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="前端性能优化方案"><a href="#前端性能优化方案" aria-hidden="true" class="header-anchor">#</a> 前端性能优化方案</h3> <p>前端性能优化tree-shaking（无用代码移除）、scope hoisting（作用域提升）、code-splitting（按需加载）、 intersection observer 以及 clients hints、CSS containment、HTTP/2 和 service workers 这些技术都是有利于性能优化的</p> <ol><li>tree-shaking：tree-shaking 是 Webpack 2 引入的新功能，tree-shaking 是无用代码移除（DCE, dead code elimination）的一个方法，但和传统的方法不太一样。tree-shaking 找到需要的代码，灌入最终的结果；传统 DCE 找到执行不到的代码，从 AST 里清除。—— <a href="https://www.zhihu.com/question/41922432" target="_blank" rel="noopener noreferrer">如何评价 Webpack 2 新引入的 Tree-shaking 代码优化技术？<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>scope hoisting：scope hoisting 是 Webpack 3 的新功能，又译作“作用域提升”。Webpack 将所有模块都用函数包裹起来，然后自己实现了一套模块加载、执行与缓存的功能，使用这样的结构是为了更容易实现 Code Splitting（包括按需加载）、模块热替换等功能。—— <a href="https://zhuanlan.zhihu.com/p/27980441" target="_blank" rel="noopener noreferrer">Webpack 3 的新功能：Scope Hoisting<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>code-splitting：对于大型的 web 应用而言，把所有的代码放到一个文件的做法效率很差，特别是在加载了一些只有在特定环境下才会使用到的阻塞的代码的时候。Webpack有个功能会把你的代码分离成Chunk，后者可以按需加载。这个功能就是code-splitting。—— <a href="http://www.alloyteam.com/2016/02/code-split-by-routes/" target="_blank" rel="noopener noreferrer">在Webpack中使用Code Splitting实现按需加载<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>intersection observer：可以自动&quot;观察&quot;元素是否可见，由于可见（visible）的本质是，目标元素与视口产生一个交叉区，所以这个 API 叫做&quot;交叉观察器&quot;。—— <a href="http://www.ruanyifeng.com/blog/2016/11/intersectionobserver_api.html" target="_blank" rel="noopener noreferrer">IntersectionObserver API 使用教程<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>clients hints：自动响应式图片 —— <a href="https://cloudinary.com/blog/automatic_responsive_images_with_client_hints" target="_blank" rel="noopener noreferrer">Automatic responsive images with Client Hints<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>CSS containment：新的 CSS 属性 Containment 允许开发者限制浏览器样式、布局和 paint 工作的范围。—— <a href="https://developers.google.com/web/updates/2016/06/css-containment" target="_blank" rel="noopener noreferrer">CSS Containment in Chrome 52<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>service workers：实现离线页面 —— <a href="https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API" target="_blank" rel="noopener noreferrer">Service worker concepts and usage<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ol> <h3 id="前端性能度量"><a href="#前端性能度量" aria-hidden="true" class="header-anchor">#</a> 前端性能度量</h3> <ol><li>首次有效渲染（FMP，是指主要内容出现在页面上所需的时间），</li> <li>重要渲染时间（页面最重要部分渲染完成所需的时间），</li> <li>可交互时间（TTI，是指页面布局已经稳定，关键的页面字体已经可见，主进程可以足够的处理用户的输入 —— 基本的时间标记是，用户可以在 UI 上进行点击和交互），</li> <li>输入响应，接口响应用户操作所需的时间，</li> <li>Speed Index，测量填充页面内容的速度。 分数越低越好，</li> <li>自定义度量，由你的业务需求和用户体验来决定。</li></ol> <h3 id="前端性能优化之网络层面"><a href="#前端性能优化之网络层面" aria-hidden="true" class="header-anchor">#</a> 前端性能优化之网络层面</h3> <p>缓存、请求合并、按需引入、cdn、离线</p> <ul><li>HttpCache：通过一定规则让网络回来的资源缓存在本地，下次使用的时候可以直接从本地读取。stale-while-revalidate可以允许资源在过期之后，在一段时间内可以继续使用，同时发起一个异步请求，可以允许资源先使用，再验证。</li> <li>LocalStorage：前端可以使用LocalStorage将资源存储在本地，类似的还有IndexedDB。LocalStorage也有一些限制，比如一个域名只能存储5M数据，不能跨域读取。</li> <li>MemoryCache：内存缓存， Chrome中的MemoryCache主要由GC管理，资源进入MemoryCache的时候会关联一个弱引用，在主文档关闭的时候会被清除。目前Webkit资源分成两类，一类是主资源，比如HTML页面，或者下载项，一类是派生资源，比如HTML页面中内嵌的图片或者脚本链接，分别对应代码中两个类：MainResourceLoader和SubresourceLoader。虽然Webkit支持memoryCache，但是也只是针对派生资源，它对应的类为CachedResource，用于保存原始数据（比如CSS，JS等），以及解码过的图片数据。</li> <li>DiskCache顾名思义，就是将资源缓存到磁盘中，等待下次访问时不需要重新下载资源，而直接从磁盘中获取，它的直接操作对象为CurlCacheManager。</li> <li>离线包（ZCache）：用户访问页面时，内核会通过shouldInterceptRequest询问外壳是否有可用资源，如果有可用资源，外壳会返回资源，不用再去网络请求资源。【ZCache会走到外壳拦截逻辑，效率比HttpCache低一些，一般资源到Blink内核需要100ms，主文档需要300ms】</li> <li>NetCache：DNS解析结果，长连接复用。</li> <li>V8 Bytecode Cache：V8字节码缓存。【JS执行过一次，第二次执行能明显减少时间】。</li> <li>Image Decode Cache：图片解码缓存。</li> <li>PageCache：页面级缓存，在UC上角WebViewCache，在UC浏览器上点击前进后退按钮，就会产生WebViewCache。</li></ul> <h4 id="dns预热"><a href="#dns预热" aria-hidden="true" class="header-anchor">#</a> dns预热</h4> <p>我们来看下DNS的解析流程：浏览器缓存-系统缓存-路由器缓存-ISP DNS缓存-DNS源服务器</p> <p>当我们访问过一次域名之后，就会在每个节点上生成DNS缓存，即完成DNS预热，这样同一地区（或网络服务商）的其他用户再次访问该域名时就不需要重新回源，直接读取最近的DNS缓存，从而减少请求次数，提升了网站访问速度。</p> <p>预热的方式</p> <ol><li>爬虫</li> <li>APP</li> <li>网页meta</li></ol> <div class="language-html extra-class"><pre class="language-html"><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>x-dns-prefetch-control<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>on<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>dns-prefetch<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>//webresource.english.c-ctrip.com<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>dns-prefetch<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>//webresource.c-ctrip.com<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>dns-prefetch<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>//s.c-ctrip.com<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>dns-prefetch<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>//pic.english.c-ctrip.com<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>dns-prefetch<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>//m.ctrip.com<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><h4 id="合并http请求"><a href="#合并http请求" aria-hidden="true" class="header-anchor">#</a> 合并http请求</h4> <p>chrome在http和https下相同域名可以并发的请求数不同：http = 6，https &gt; 13
所以在webpack打包的时候要进行一定的请求合并，配合按需加载</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/hopema/frontInterview/interview/two.html" class="prev">vue问题总结</a></span> <span class="next"><a href="/hopema/frontInterview/interview/four.html">知识总结</a>→
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/hopema/assets/js/app.e2d1272e.js" defer></script><script src="/hopema/assets/js/2.ba40ddf8.js" defer></script><script src="/hopema/assets/js/16.3c672fff.js" defer></script>
  </body>
</html>
